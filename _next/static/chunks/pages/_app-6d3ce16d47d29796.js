(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{5202:function(){!function(){"use strict";function e(e){var t=!0,n=!1,o=null,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function i(e){return!!e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList}function d(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function a(e){t=!1}function r(){document.addEventListener("mousemove",u),document.addEventListener("mousedown",u),document.addEventListener("mouseup",u),document.addEventListener("pointermove",u),document.addEventListener("pointerdown",u),document.addEventListener("pointerup",u),document.addEventListener("touchmove",u),document.addEventListener("touchstart",u),document.addEventListener("touchend",u)}function u(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mousedown",u),document.removeEventListener("mouseup",u),document.removeEventListener("pointermove",u),document.removeEventListener("pointerdown",u),document.removeEventListener("pointerup",u),document.removeEventListener("touchmove",u),document.removeEventListener("touchstart",u),document.removeEventListener("touchend",u))}document.addEventListener("keydown",function(n){n.metaKey||n.altKey||n.ctrlKey||(i(e.activeElement)&&d(e.activeElement),t=!0)},!0),document.addEventListener("mousedown",a,!0),document.addEventListener("pointerdown",a,!0),document.addEventListener("touchstart",a,!0),document.addEventListener("visibilitychange",function(e){"hidden"===document.visibilityState&&(n&&(t=!0),r())},!0),r(),e.addEventListener("focus",function(e){var n,o,a;i(e.target)&&(t||(o=(n=e.target).type,"INPUT"===(a=n.tagName)&&s[o]&&!n.readOnly||"TEXTAREA"===a&&!n.readOnly||n.isContentEditable))&&d(e.target)},!0),e.addEventListener("blur",function(e){if(i(e.target)){var t;(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(o),o=window.setTimeout(function(){n=!1},100),(t=e.target).hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added")))}},!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(n){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)}()},3837:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(845)}])},845:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o,s,i=n(5893);n(5202),n(6728);var d=n(7294);async function a(e){console.log(e),console.log(JSON.stringify(e));let t=await fetch("https://softjuareapi.azurewebsites.net/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.text();return{response:n}}function r(){let[e,t]=(0,d.useState)([]),[n,o]=(0,d.useState)(""),r=(0,d.useRef)(null),u=async i=>{i.preventDefault();let d=[...e,{text:n,sender:"user"}];o(""),t(d),console.log(d);let r=await a({Messages:d.map(e=>({Actor:"user"==e.sender?s.User:s.System,Text:e.text}))});t([...d,{text:r.response,sender:"System"}])};return(0,d.useEffect)(()=>{var e;null===(e=r.current)||void 0===e||e.scrollIntoView()}),(0,i.jsxs)("div",{className:"fixed bottom-0 right-0 m-8 w-80 rounded-lg shadow-lg bg-white z-50",children:[(0,i.jsx)("div",{className:"p-4 border-b",children:(0,i.jsx)("h2",{className:"text-lg font-semibold",children:"Chatbot"})}),(0,i.jsxs)("div",{className:"p-4 h-60 overflow-y-auto",children:[e.map((e,t)=>(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)("div",{className:`inline-block rounded-lg px-4 py-2 ${"user"===e.sender?"bg-gray-200 ml-auto":"bg-blue-500 text-white"}`,children:e.text})},t)),(0,i.jsx)("div",{ref:r})]}),(0,i.jsx)("form",{onSubmit:u,className:"p-4 border-t",children:(0,i.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),className:"w-full rounded-lg border px-4 py-2",placeholder:"Type your message..."})})]})}function u(e){let{Component:t,pageProps:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t,{...n}),(0,i.jsx)(r,{})]})}(o=s||(s={})).System="System",o.User="User"},6728:function(){}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(3837),t(880)}),_N_E=e.O()}]);